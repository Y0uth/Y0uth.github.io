

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/3%20(1).jpg">
  <link rel="icon" href="/img/3%20(1).jpg">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="description" content="OAuth 2.0OAuth（Open Authorization，开放授权）是一个开放标准的授权协议，允许用户授权第三方应用访问他们存储在资源服务上受保护的信息，而不需要将用户名和密码提供给第三方应用。">
  <meta name="author" content="Yankel">
  <meta name="keywords" content="">
  <meta name="description" content="OAuth 2.0OAuth（Open Authorization，开放授权）是一个开放标准的授权协议，允许用户授权第三方应用访问他们存储在资源服务上受保护的信息，而不需要将用户名和密码提供给第三方应用。">
<meta property="og:type" content="article">
<meta property="og:title" content="OAuth2.0">
<meta property="og:url" content="http://yankel.github.com/2022/07/15/OAuth2-0/index.html">
<meta property="og:site_name" content="Yankel">
<meta property="og:description" content="OAuth 2.0OAuth（Open Authorization，开放授权）是一个开放标准的授权协议，允许用户授权第三方应用访问他们存储在资源服务上受保护的信息，而不需要将用户名和密码提供给第三方应用。">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://s1.ax1x.com/2023/05/14/p9cHec4.png">
<meta property="og:image" content="https://s1.ax1x.com/2023/05/14/p9cHMH1.png">
<meta property="og:image" content="https://s1.ax1x.com/2023/05/14/p9cHYge.png">
<meta property="og:image" content="https://s1.ax1x.com/2023/05/14/p9cH0Et.png">
<meta property="og:image" content="https://s1.ax1x.com/2023/05/14/p9cHy8S.png">
<meta property="og:image" content="https://s1.ax1x.com/2023/05/14/p9cHcvQ.png">
<meta property="article:published_time" content="2022-07-15T09:24:19.000Z">
<meta property="article:modified_time" content="2023-05-14T16:04:11.073Z">
<meta property="article:author" content="Yankel">
<meta property="article:tag" content="OAuth">
<meta property="article:tag" content="SSO">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://s1.ax1x.com/2023/05/14/p9cHec4.png">
  
  <title>OAuth2.0 - Yankel</title>

  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css" />


  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/github-markdown-css@4/github-markdown.min.css" />
  <link  rel="stylesheet" href="/lib/hint/hint.min.css" />

  
    
    
      
      <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@10/styles/github-gist.min.css" />
    
  

  
    <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3/dist/jquery.fancybox.min.css" />
  


<!-- 主题依赖的图标库，不要自行修改 -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_ba1fz6golrf.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_kmeydafke9r.css">


<link  rel="stylesheet" href="/css/main.css" />

<!-- 自定义样式保持在最底部 -->


  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    var CONFIG = {"hostname":"yankel.github.com","root":"/","version":"1.8.12","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"right","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"copy_btn":true,"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"baidu":"563a1ae07198a9b57a53f93c88e5f1ed","google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname"}},"search_path":"/local-search.xml"};
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
<meta name="generator" content="Hexo 6.2.0"></head>


<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>Yank3l&#39;s universe</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                首页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                归档
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                分类
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                标签
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                关于
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              &nbsp;<i class="iconfont icon-search"></i>&nbsp;
            </a>
          </li>
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="banner" id="banner" parallax=true
         style="background: url('/img/1%20(9).jpg') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
          <div class="page-header text-center fade-in-up">
            <span class="h2" id="subtitle" title="OAuth2.0">
              
            </span>

            
              <div class="mt-3">
  
  
    <span class="post-meta">
      <i class="iconfont icon-date-fill" aria-hidden="true"></i>
      <time datetime="2022-07-15 17:24" pubdate>
        2022年7月15日 下午
      </time>
    </span>
  
</div>

<div class="mt-1">
  
    <span class="post-meta mr-2">
      <i class="iconfont icon-chart"></i>
      4k 字
    </span>
  

  
    <span class="post-meta mr-2">
      <i class="iconfont icon-clock-fill"></i>
      
      
      12 分钟
    </span>
  

  
  
</div>

            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div class="py-5" id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">OAuth2.0</h1>
            
            <div class="markdown-body">
              <h1 id="OAuth-2-0"><a href="#OAuth-2-0" class="headerlink" title="OAuth 2.0"></a>OAuth 2.0</h1><p>OAuth（Open Authorization，开放授权）是一个开放标准的授权协议，允许用户授权第三方应用访问他们存储在资源服务上受保护的信息，而不需要将用户名和密码提供给第三方应用。</p>
<span id="more"></span>

<table><tr><td bgcolor=#EAEAEF>文章内容来自阿里云相关介绍，相关链接见文章末尾。</td></tr></table>

<hr>
<ul>
<li><p>OAuth2是用于REST&#x2F;APIs的代理授权框架(delegated authorization framework)</p>
</li>
<li><p>OAuth2是基于令牌Token的授权,在无需暴露用户密码的情况下,让应用获取对用户数据有限访问权限</p>
</li>
<li><p>OAuth2解耦认证和授权</p>
</li>
</ul>
<h2 id="问题提出"><a href="#问题提出" class="headerlink" title="问题提出"></a>问题提出</h2><p>让朋友去自己家取东西，如果我直接给他门禁系统的密码，朋友就拥有了与我同样的权限，这样不太合适。如果我想取消朋友进入我家的权限，需要更改密码才可以，操作麻烦。</p>
<p>能不能有种方法，朋友可以进入我家，但是又不知道我家门禁的密码。朋友如果多次进入我家，每次都需要经过我的授权，我不授权的就进不去，我授权后才能进去。</p>
<p>方案如下：</p>
<p>第一步，在门禁系统的密码输入器下面，增加一个按钮，比如叫做”获取授权”。朋友需要首先按这个按钮，去申请授权。</p>
<p>第二步，朋友按下按钮以后，我的手机就会弹出提示：有人正在请求授权，并显示朋友的姓名。我确认情况属实，点击同意授权。</p>
<p>第三步，门禁系统得到我的确认后，向朋友发送一个进入房屋的令牌（access token），令牌是类似密码的一串数字，只在短期内有效。</p>
<p>第四步，朋友向门禁系统输入令牌，进入房屋。</p>
<h2 id="相关名词"><a href="#相关名词" class="headerlink" title="相关名词"></a>相关名词</h2><ul>
<li><strong>Third-party application</strong>: 第三方应用，又称”客户端”（client），如上面场景中的门禁系统。</li>
<li><strong>Resource Owner</strong>: 资源拥有者，也就是用户。</li>
<li><strong>Http Service</strong>: 服务提供商，也就是持有Resource Server的存在方。可以理解为类似微信，钉钉这样具备用户信息的服务者。</li>
<li><strong>Authorization server</strong>: 认证服务器，即服务提供商专门用来处理认证的服务器。</li>
<li><strong>Resource server</strong>: 资源服务器，即服务提供商存放用户生成的资源的服务器。与认证服务器是不同的逻辑节点，但是在物理上，双方是可以在一起的</li>
<li><strong>User Agent</strong>: 用户代理，一般就是指的浏览器。</li>
<li><strong>客户端凭证</strong>: Client Id和密码用于认证用户。</li>
<li><strong>访问令牌</strong>: 授权服务提供者在接收到用户请求后,颁发的访问令牌。</li>
<li><strong>刷新令牌</strong>(Refresh Token): 用于<strong>获取一个新的令牌</strong>。由于令牌的有效期比较短，一旦失效，用户需要再获取令牌的流程是比较繁琐的。为了提升用户体验，可以使用reflesh_token来获取新的令牌。</li>
</ul>
<p><strong>举例</strong></p>
<p>【小明】授权【在线打印app】到【QQ空间】访问【小明的指定相册】，以完成打印工作。</p>
<p><img src="https://s1.ax1x.com/2023/05/14/p9cHec4.png" srcset="/img/loading.gif" lazyload></p>
<h2 id="OAuth应用场景"><a href="#OAuth应用场景" class="headerlink" title="OAuth应用场景"></a>OAuth应用场景</h2><p><strong>开放系统间授权：社交联合登录、开放API平台</strong></p>
<p>比如：APP或者网页接入一些第三方应用时，时常会需要用户登录另一个合作平台，比如钉钉，QQ，微博的授权登录, 这些平台都提供了基于OAuth2的机制，你可以用这些平台的账号登录而无需在其他网站上进行注册，并授权此网站获取其账号信息，包括用户名、头像等。</p>
<p><strong>现代微服务安全：单页浏览器App(HTML5&#x2F;JS&#x2F;无状态)、无线原生App</strong></p>
<p>比如：app登录请求后台接口，为了安全认证，所有请求都带token信息，如果登录验证、请求后台数据。</p>
<p><strong>企业内部应用认证授权(IAM&#x2F;SSO)，前后端分离单页面应用（spa）</strong></p>
<p>比如：有个应用是别人开发的，你需要将系统进行整合或者数据对接，此时需要单点登录；前后端分离框架，前端请求后台数据，需要进行oauth2安全认证。</p>
<h2 id="token-vs-password"><a href="#token-vs-password" class="headerlink" title="token vs password"></a>token vs password</h2><p>（1）<strong>令牌是短期的</strong>，到期会自动失效，用户自己无法修改。<strong>密码一般长期有效</strong>，用户不修改，就不会发生变化。</p>
<p>（2）<strong>令牌可以被资源持有者撤销，会立即失效</strong>。以上例而言，我可以随时取消朋友的令牌，密码一般不允许被他人撤销。</p>
<p>（3）<strong>令牌有权限范围</strong>（scope），比如使用令牌只允许进入客厅，不允许进入卧室。对于网络服务来说，只读令牌比读写令牌更安全，而<strong>密码一般是完整权限</strong>。</p>
<h2 id="缺点"><a href="#缺点" class="headerlink" title="缺点"></a>缺点</h2><ul>
<li>协议框架太宽泛,造成各种实现的兼容性和相互操作性差</li>
<li>和OAuth1.0不兼容</li>
<li>OAuth2.0<strong>不是一个认证协议(是授权协议)</strong> ,OAuth2.0本身并不能告诉你任何用户信息.</li>
</ul>
<h2 id="OAuth2-0-的授权模式"><a href="#OAuth2-0-的授权模式" class="headerlink" title="OAuth2.0 的授权模式"></a>OAuth2.0 的授权模式</h2><p>客户端必须得到用户的授权（authorization grant），才能获得访问令牌（access token）。</p>
<p>OAuth 2.0 规定了四种获得令牌的流程，可以选择实际情况选择最适合的一种，向第三方应用颁发令牌。</p>
<ul>
<li><strong>授权码模式（authorization-code）</strong>：正宗方式，支持refresh_token</li>
<li><strong>简化模式（implicit）</strong>:  为web浏览器应用设计，不支持refresh_token</li>
<li><strong>密码模式（password）</strong>:  为遗留系统设计，支持refresh_token</li>
<li><strong>客户端模式（client credentials）</strong>：为后台api服务设计，不支持refresh_token</li>
</ul>
<table>
<thead>
<tr>
<th><span style= "display:inline-block;width:100px">授权模式</span></th>
<th><span style= "display:inline-block;width:80px">优点</span></th>
<th><span style= "display:inline-block;width:100px">缺点</span></th>
<th><span style= "display:inline-block;width:100px">备注</span></th>
</tr>
</thead>
<tbody><tr>
<td>授权码模式</td>
<td>Access token通过服务器之间进行交换，比较安全</td>
<td>请求次数比较多</td>
<td>推荐该模式</td>
</tr>
<tr>
<td>简化模式</td>
<td>请求次数比较少，简单</td>
<td>1.没有获取code的过程， Access token直接从授权服务器返回给client客户端，<strong>令牌容易因为被拦截窃听而泄露</strong>                                                                               2.无法存储refresh token，不支持刷新令牌： 要么access token有效性给很长 要么access token过期后，让用户重新认证</td>
<td>适用于公开的浏览器单页应用</td>
</tr>
<tr>
<td>密码模式</td>
<td>请求次数比较少，简单</td>
<td>1.Client会获得用户的登录信息，除非是非常信任的应用，否则可能导致登录信息泄露。                                                                                                                     2.没有多因子认证这样的机制。</td>
<td>1.可以用来做遗留项目升级OAuth2的适配方案 2.Client是自家应用的场景</td>
</tr>
<tr>
<td>客户端模式</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>不管哪一种授权方式，第三方应用<em>申请令牌之前，都必须先到系统备案</em>，说明自己的身份，然后会拿到两个身份识别码：<strong>客户端 ID（client ID  用来标识第三方应用）和客户端密钥（client secret  用来进行安全加密）</strong>。这是为了防止令牌被滥用，没有备案过的第三方应用，是不会拿到令牌的。</p>
<h3 id="授权码模式"><a href="#授权码模式" class="headerlink" title="授权码模式"></a>授权码模式</h3><p>OAuth2最常用的一种授权许可类型，<strong>要求Client具有可公开访问的Server服务器</strong>来接受Authorization Code </p>
<p>(适合client具备后端服务器的场景。要求client必须能够安全存储密钥,用于后续使用auth code换access token，需要通过浏览器与终端用户交互完成认证授权。通过浏览器重定向将auth code发送到authorization server，换取access token)</p>
<ul>
<li>这种模式算是正宗的OAuth2的授权模式</li>
<li>设计了Auth code，通过这个code再获取token</li>
<li>支持refresh token</li>
</ul>
<p><img src="https://s1.ax1x.com/2023/05/14/p9cHMH1.png" srcset="/img/loading.gif" lazyload></p>
<ol>
<li>用户登录应用系统，请求跳转到认证服务器，并302返回登录认证页面；</li>
<li>用户输入账户+密码进行认证，认证服务器认证通过返回code给应用系统；</li>
<li>应用系统携带code向认证服务器换取访问令牌，认证服务器验证Client ID，code等信息，给应用系统发送访问令牌；</li>
<li>应用系统携带访问令牌查询用户登录信息，认证服务器返回用户信息，如用户名；</li>
<li>应用系统验证用户名正确，创建会话，并跳转到redirect url。</li>
</ol>
<h3 id="简化模式"><a href="#简化模式" class="headerlink" title="简化模式"></a>简化模式</h3><p>省略掉了颁发授权码（Authorization Code）给客户端的过程，直接返回访问令牌和可选的刷新令牌。<strong>其适用于没有Server服务器来接受处理Authorization Code的第三方应用。</strong> </p>
<p><img src="https://s1.ax1x.com/2023/05/14/p9cHYge.png" srcset="/img/loading.gif" lazyload></p>
<h3 id="密码模式"><a href="#密码模式" class="headerlink" title="密码模式"></a>密码模式</h3><p>这种模式再一步简化，和Authorzation Code类型下重要的区分就是<strong>省略了Authorization  Request和Authorization Response</strong>。</p>
<p>而是<strong>Client直接使用Resource  owner提供的username和password来直接请求access_token</strong>（直接发起Access Token  Request然后返回Access Token Response信息）。这种模式一般<strong>适用于Resource  server高度信任第三方Client的情况下。</strong></p>
<p><img src="https://s1.ax1x.com/2023/05/14/p9cH0Et.png" srcset="/img/loading.gif" lazyload></p>
<h3 id="客户端模式"><a href="#客户端模式" class="headerlink" title="客户端模式"></a>客户端模式</h3><p>Client直接已自己的名义而不是Resource owner的名义去要求访问Resource server的一些受保护资源</p>
<ul>
<li><strong>适用于服务器间通信场景</strong>，直接根据client的id和密钥即可获取token，无需用户参与</li>
<li>这种模式比较适合消费api的后端服务，比如拉取一组用户信息等</li>
<li>不支持refresh token</li>
</ul>
<p>Refresh token的初衷主要是为了用户体验不想用户重复输入账号密码来换取新token，因而设计了refresh  token用于换取新token，客户端模式由于没有用户参与，而且也不需要用户账号密码，仅仅根据自己的id和密钥就可以换取新token，因而没必要refresh token.</p>
<p><img src="https://s1.ax1x.com/2023/05/14/p9cHy8S.png" srcset="/img/loading.gif" lazyload></p>
<h2 id="刷新令牌"><a href="#刷新令牌" class="headerlink" title="刷新令牌"></a>刷新令牌</h2><p>以便在访问令牌过期失效的时候可以由客户端自动获取新的访问令牌，而不是让用户再次登录授权。</p>
<p><img src="https://s1.ax1x.com/2023/05/14/p9cHcvQ.png" srcset="/img/loading.gif" lazyload></p>
<p>参考链接</p>
<blockquote>
<p>[1]<a target="_blank" rel="noopener" href="https://developer.aliyun.com/article/808319#slide-2">https://developer.aliyun.com/article/808319#slide-2</a></p>
<p>[2]<a target="_blank" rel="noopener" href="https://help.aliyun.com/document_detail/174227.html">https://help.aliyun.com/document_detail/174227.html</a></p>
<p>[3]<a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_26878363/article/details/115394602">https://blog.csdn.net/qq_26878363/article/details/115394602</a></p>
<p>[4]<a target="_blank" rel="noopener" href="https://blog.csdn.net/luo15242208310/article/details/120223634">https://blog.csdn.net/luo15242208310/article/details/120223634</a></p>
<p>[5]<a target="_blank" rel="noopener" href="https://blog.csdn.net/luo15242208310/article/details/123596841">https://blog.csdn.net/luo15242208310/article/details/123596841</a></p>
</blockquote>

            </div>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                  <div class="post-meta mr-3">
                    <i class="iconfont icon-category"></i>
                    
                      <a class="hover-with-bg" href="/categories/SSO/">SSO</a>
                    
                  </div>
                
                
                  <div class="post-meta">
                    <i class="iconfont icon-tags"></i>
                    
                      <a class="hover-with-bg" href="/tags/OAuth/">OAuth</a>
                    
                      <a class="hover-with-bg" href="/tags/SSO/">SSO</a>
                    
                  </div>
                
              </div>
              
                <p class="note note-warning">
                  
                    本博客所有文章除特别声明外，均采用 <a target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" rel="nofollow noopener noopener">CC BY-SA 4.0 协议</a> ，转载请注明出处！
                  
                </p>
              
              
                <div class="post-prevnext">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2023/05/15/PicGo-github-%E5%9B%BE%E5%BA%8A/">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">PicGo+github+typora 图床</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2021/10/08/hexo%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/">
                        <span class="hidden-mobile">hexo常用命令</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p>
  <div class="toc-body" id="toc-body"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->


    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
    

    
  </main>

  <footer class="text-center mt-5 py-3">
  <div class="footer-content">
     <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
  </div>
  
  <div class="statistics">
    
    

    
      
        <!-- 不蒜子统计PV -->
        <span id="busuanzi_container_site_pv" style="display: none">
            总访问量 
            <span id="busuanzi_value_site_pv"></span>
             次
          </span>
      
      
        <!-- 不蒜子统计UV -->
        <span id="busuanzi_container_site_uv" style="display: none">
            总访客数 
            <span id="busuanzi_value_site_uv"></span>
             人
          </span>
      
    
  </div>


  

  
</footer>


  <!-- SCRIPTS -->
  
  <script  src="https://cdn.jsdelivr.net/npm/nprogress@0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nprogress@0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js" ></script>
<script  src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>

<!-- Plugins -->


  <script  src="/js/local-search.js" ></script>



  
    <script  src="/js/img-lazyload.js" ></script>
  



  



  
    <script  src="https://cdn.jsdelivr.net/npm/tocbot@4/dist/tocbot.min.js" ></script>
  
  
    <script  src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3/dist/jquery.fancybox.min.js" ></script>
  
  
    <script  src="https://cdn.jsdelivr.net/npm/anchor-js@4/anchor.min.js" ></script>
  
  
    <script defer src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js" ></script>
  



  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>




  <script  src="https://cdn.jsdelivr.net/npm/typed.js@2/lib/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var title = document.getElementById('subtitle').title;
      
      typing(title)
      
    })(window, document);
  </script>





  

  
    <!-- MathJax -->
    <script>
      MathJax = {
        tex: {
          inlineMath: [['$', '$'], ['\\(', '\\)']]
        },
        loader: {
          load: ['ui/lazy']
        },
        options: {
          renderActions: {
            findScript: [10, doc => {
              document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
                const display = !!node.type.match(/; *mode=display/);
                const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
                const text = document.createTextNode('');
                node.parentNode.replaceChild(text, node);
                math.start = { node: text, delim: '', n: 0 };
                math.end = { node: text, delim: '', n: 0 };
                doc.math.push(math);
              });
            }, '', false],
            insertedScript: [200, () => {
              document.querySelectorAll('mjx-container').forEach(node => {
                let target = node.parentNode;
                if (target.nodeName.toLowerCase() === 'li') {
                  target.parentNode.classList.add('has-jax');
                }
              });
            }, '', false]
          }
        }
      };
    </script>

    <script async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js" ></script>

  





  <script  src="https://cdn.jsdelivr.net/npm/mermaid@8/dist/mermaid.min.js" ></script>
  <script>
    if (window.mermaid) {
      mermaid.initialize({"theme":"default"});
    }
  </script>







<!-- 主题的启动项 保持在最底部 -->
<script  src="/js/boot.js" ></script>


</body>
</html>
